/**
 * Add a modal to manage question adding and editing to the page.
 *
 * @module     assignsubmission_cloudpoodll/modalformhelper
 * @class      modalformhelper
 * @package    assignsubmission_cloudpoodll
 * @copyright  2020 Justin Hunt <poodllsupport@moodle.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("assignsubmission_cloudpoodll/modalformhelper",["jquery","core/log","core/str","core/modal_factory","core/modal_events","core/fragment"],(function($,log,Str,ModalFactory,ModalEvents,Fragment){var TheForm=function(selector){this.init(selector)};return TheForm.prototype.modal=null,TheForm.prototype.init=function(selector){var dd=this;$("body").on("click",selector,(function(e){e.preventDefault(),dd.modaldata={contextid:$(this).data("contextid"),mediaurl:$(this).data("mediaurl"),mediatype:$(this).data("mediatype"),transcripturl:$(this).data("transcripturl"),lang:$(this).data("lang")},ModalFactory.create({type:ModalFactory.types.CANCEL,title:dd.formtitle,body:dd.getBody(dd.modaldata)}).then((function(modal){return dd.modal=modal,dd.modal.getRoot().on(ModalEvents.hidden,function(){dd.modal.setBody(dd.getBody(dd.modaldata))}.bind(dd)),dd.modal.show(),dd.modal}))}))},TheForm.prototype.getBody=function(modaldata){return Fragment.loadFragment("assignsubmission_cloudpoodll","mform",modaldata.contextid,modaldata)},{init:function(selector){return new TheForm(selector)}}}));

//# sourceMappingURL=modalformhelper.min.js.map